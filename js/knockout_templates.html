<!-- Web interface for back-end e-NABLE Assembler

    Copyright (C) 2014, e-NABLE / Rogelio Ortiz, Mike Creuzer

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see http://www.gnu.org/licenses/.
-->


<script type="text/html" id="main-interface">
	<div data-bind="template: { name: 'navbar-top' }"></div>

	<div data-bind="template: { name: 'navbar-bottom' }"></div>

	<div class="container main-container">
		<div class="row" data-bind="visible: currentStep() == processSteps.welcomePage ">
			<div data-bind="template: { name: 'left-welcome-pane' }"></div>	
			<div data-bind="template: { name: 'right-welcome-pane' }"></div>
		</div>

		<div class="row" data-bind="visible: currentStep() == processSteps.measurementsPage ">
			<div data-bind="template: { name: 'prosthetic-data-entry' }"></div>	
			<div data-bind="template: { name: 'reference-pane' }"></div>
			<div data-bind="template: { name: 'measurement-next-step' }"></div>  			
		</div>

		<div class="row" data-bind="visible: currentStep() == processSteps.modelPage ">
                        <div data-bind="template: { name: 'model-selection' }"></div>			
                        <div data-bind="template: { name: 'model-preview' }"></div>			
                        <div data-bind="template: { name: 'model-generate' }"></div>			
                </div>
	</div>
</script>



<!-- Navbar and Disclaimer View Templates -->
<script type="text/html" id="navbar-top">
<div role="navigation" class="navbar navbar-inverse navbar-fixed-top">
 <div class="container">
  <div class="navbar-header">
   <button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
    <span class="sr-only">Toggle navigation</span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
   </button>
   <a href="#" class="navbar-brand">
	<span id="product-title">e-NABLE Hand-o-Matic v1.2</span>
	</a>
  </div>

  <div class="navbar-collapse collapse">
   <div class="navbar-form navbar-right">
    <span id="help" class="help btn btn-help" value='help' data-toggle="modal" data-target=".help-modal">
      <span class="fa fa-question-circle"></span> </span>
      	<a id="feedback" class="help btn btn-help" value='feedback' target='_blank'
			href="https://docs.google.com/forms/d/1hqjed1x9NuTdLt5qNfGwx-YoK3H3JSgnu30vaF47mKs/viewform?edit_requested=true#">
      		<span class="fa fa-comment"></span> 
	</a>
      <span id="action_buttons"></span>
    </div>
   </div>
  </div>
 </div>
</div>
</script>
<script type="text/html" id="navbar-bottom">
<div class="navbar  navbar-inverse navbar-fixed-bottom">
	<div class="container" id="e_footer">
		&copy; e-NABLE 2014
		<span id="disclaimer" class="disclaimer btn btn-help" value='help' data-toggle="modal" data-target=".disclaimer-modal">
		Disclaimer</span>
	</div>
</div>
</script>



<!-- Welcome View Templates -->
<script type="text/html" id="left-welcome-pane">
<div class="col-md-8">
	<div class="panel panel-warning" id="side-select">
		<div class="panel-heading">
			<h3 class="panel-title">Welcome to Hand-o-matic!</h3>
		</div>
		
		<div style="height:460px; padding:14px;">
		      	<h1 style="color:#999; text-align:center;">Welcome to Hand-o-matic!</h1>
                        <div style="text-align:center; padding:20px;">
                                <iframe width="560" height="315" src="//www.youtube.com/embed/T9nngOrdPkg" frameborder="0" allowfullscreen></iframe>
        		</div>
		</div>
	</div>
</div>
</script>
<script type="text/html" id="right-welcome-pane">
<div class="col-md-4" id="mid-pane">
	<div class="panel panel-warning" id="side-select">
		<div class="panel-heading">
			<h3 class="panel-title">Next Steps</h3>
		</div>
		
		<div style="height:460px; padding:14px;" >
                        <div style="height:375px">
			        <h2 style="color:#999; text-align:center; margin:0">
                                        Are you ready to start entering your measurements?
                                <h2>
                                <h4 style="text-align:center; color:#555;">Click the "Next" to begin!</h1>
                        </div>
                        <div style="text-align:right;">
                                <a href="#" class="btn btn-lg btn-primary"
                                        data-bind="click: navigateMeasurementsPage">Next <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
		</div>
	</div>
</div>
</script>




<!-- Measurements View Templates -->
<script type="text/html" id="prosthetic-data-entry">
<div class="col-md-4" id="mid-pane">
	<div class="panel panel-warning" id="side-select">
		<div class="panel-heading">
			<h3 class="panel-title">Prosthetic Selection</h3>
		</div>
				
		<div style="height:460px; padding:14px;" >
                        <div style="height:375px">
	                      	<div class="panel-body" id="side-select-body">
			                <select name="prostheticHand" 
						class="form-control" 
				                data-bind="options: prostheticHandItems, 
					                optionsText: 'name', 
					                optionsValue: 'id', 
					                value: selectedProstheticHand">
			                </select>
		                </div>
		
		                <div data-bind="template: { name: 'field-template', foreach: selectedFields }">
		                </div>

		                <div data-bind="visible: noHandSelected()">
			                <h2 style="color:#999; text-align:center;">Select which hand needs a prosthetic and we will gather your measurements</h2>
		                </div>
                        </div>
                        <a href="#" data-bind="click: navigateWelcomePage" class="btn btn-lg btn-primary"><i class="fa fa-arrow-circle-left"></i> Back</a>
	        </div>
	</div>
</div>
</script>

<script type="text/html" id="description-template">
	<li data-bind="text: label"></li>
</script>

<script type="text/html" id="field-template">
	<div data-bind="visible: isVisible" style="margin-bottom:36px;">
	  <div class="input-group" style="margin-bottom:5px;">
		<span class="input-group-addon" data-bind="text: id"></span>
		<input type="number" step="any" min="0" class="form-control"
		data-bind="attr: { id: 'v_' + id.toLowerCase(), name: name, value: value, placeholder: description}"/>
		<span class="input-group-addon">mm</span>
	  </div>
		<div style="color:#666;">
	    <span data-bind="text: description,attr: { id: 'v_' + id.toLowerCase() + '_desc'}"
		  style="font-size:13px; font-weight:bold;"></span>
		<i style="font-size:20px" class="fa  $('#generatorForm').serialize()fa-question-circle"></i>
		</div>
	</div>
	
	<div data-bind="ko if: hidden">
	  <input type="hidden" data-bind="attr: { id: 'v_' + id.toLowerCase(), name: name, value: value}">
	</div>
</script>

<script type="text/html" id="other-template">
	<li data-bind="text: label"></li>
</script>

<script type="text/html" id="reference-pane">
<div class="col-md-4" id="third-pane" data-bind="visible: !noHandSelected()">
	<div class="panel panel-warning" id="side-se $('#generatorForm').serialize()lect">
		<div class="panel-heading">
			<h3 class="panel-title">Visual</h3>
		</div>
		<div id="image" style="height:460px; padding:14px;">
		        <div class="thumbnail" data-bind="visible: !noHandSelected()">
			        <img src="./imgs/referece_rP.png" data-bind="visible: rightHandSelected" />
			        <img src="./imgs/referece_lP.png" data-bind="visible: leftHandSelected" />
		        </div>
		</div>
	</div>	
</div>
</script>
<script type="text/html" id="measurement-next-step">
<div class="col-md-4" id="right-pane-step1"  data-bind="visible: !noHandSelected()">
	<div class="panel panel-warning" id="side-select">
		<div class="panel-heading">
			<h3 class="panel-title">Next Steps</h3>
		</div>
		
		<div style="height:460px; padding:14px;" >
                        <div style="height:375px">
			        <h2 style="color:#999; text-align:center; margin:0px;">
                                        After you enter your measurements, click "Next" below
                                <h2>
                        </div>
                        <div style="text-align:right;">
                                <a href="#" data-bind="click:navigateModelPage" class="btn btn-lg btn-primary">Next <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
		</div>
	</div>
</div>
</script>



<!-- Model Selection View Templates -->
<script type="text/html" id="model-selection">
<div class="col-md-4 config-col">
	<div class="panel panel-warning">
		<div class="panel-heading">
			<h3 class="panel-title">Model Selection</h3>
		</div>
		
		<div style="height:460px; padding:14px;" >
                        <div style="height:375px">
	                      	<div class="panel-body" id="option-select-body">                                        
			                  <label for='palmSelect'>Palm Style</label>
			                  <select name='palmSelect' class="form-control"
				                data-bind="options: palmItems,optionsText: 'name',optionsValue: 'id',value: selectedPalm">
			                  </select>
                                          <div style="height:20px;"></div>

			                  <label for='fingerSelect'>Finger Style</label>
			                  <select name='fingerSelect' class="form-control"
				                data-bind="options: fingerSelectItems,optionsText: 'name',optionsValue: 'id',value: selectedFingerSelect">
			                  </select>
                                          <div style="height:20px;"></div>

			                  <label for='gauntletSelect'>Gauntlet Style</label>
			                  <select name='gauntletSelect' class="form-control"
				                data-bind="options: gauntletSelectItems,optionsText: 'name',optionsValue: 'id',value: selectedGauntletSelect">
			                  </select>
                                          <div style="height:20px;"></div>

			                  <label>Spacing</label>
			                  <div class="input-group"><span class="input-group-addon">Padding &nbsp;&nbsp;&nbsp;</span>
				                <input type="number" step="any" min="0" name="Padding" data-bind="value: paddingValue" class="form-control" />
				                <span class="input-group-addon">mm</span>
			                  </div>
                                          <div style="height:20px;"></div>

		                </div>
	                </div>
                        
                        <!-- BACK BUTTON -->
                        <a href="#" data-bind="click: navigateMeasurementsPage" class="btn btn-lg btn-primary"><i class="fa fa-arrow-circle-left"></i> Back</a>
                </div>
	</div>
</div>
</script>
<script type="text/html" id="model-preview">
<div class="col-md-4" id="right-pane-step1">
	<div class="panel panel-warning" id="side-select">
		<div class="panel-heading">
			<h3 class="panel-title">Preview Window</h3>
		</div>
		
		<div style="height:460px; padding:14px;">
			<label for='part'>What would you like to generate?</label>
			<select name='part' class="form-control" id="generateSelect"
				data-bind="	options: partItems,
						optionsText: 'name',
						optionsValue: 'id',
						event: { change: preview },
						value: selectedPart">
			</select>
			
			<div style="height:20px;"></div>
			
			<div id="pleaseWaitForImage" style="color:#999;" data-bind="visible: waitingForResponse()">
				<h3>Please wait while a preview is generated...</h3>
			</div>
			<img id="previewImage" src="" style="width:100%;" data-bind="visible: !waitingForResponse()"  />
		</div>
		<div id="ajaxCaddy" style="display:none;">
		</div>
	</div>
</div>
</script>
<script type="text/html" id="model-generate">
<div class="col-md-4" id="right-pane-step1">
	<div class="panel panel-warning" id="side-select">
		<div class="panel-heading">
			<h3 class="panel-title">Generate Model</h3>
		</div>
		
		<div style="height:460px; padding:14px;" >
                        <div style="height:375px">
			        <h2 style="color:#999; text-align:center; margin:0px;">
                                        Select your model style and select the parts to generate. Next, enter your email address and hit "Generate STL"
				</h2>
				                                
                                <div style="height:60px;"></div>
				
		                <label for='part'>Where would you like the model emailed to?</label>
				
		                <div class="input-group incomplete" id="email"><span class="input-group-addon">

			                <span class="fa fa-cogs"></span>&nbsp;&nbsp; Email </span>
			                <input type="" step="any" min="0" name="email" data-bind="value: email" class="form-control">
		                </div>
                        </div>
                        <div style="text-align:center;">
                                <a href="#" data-bind="click:navigateModelPage" class="btn btn-lg btn-danger">Generate STL <i class="fa fa-bolt"></i></a>
                        </div>
		</div>
	</div>
</div>
</script>




